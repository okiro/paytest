!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";async function r(e,t,n){await fetch(t).then(e=>e.text()).then(t=>{document.querySelector(e).innerHTML=t}),n&&n()}n.r(t),n.d(t,"getHtml",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DomManipulation",(function(){return r}));class r{get windowHeight(){return window.innerHeight}get windowWidth(){return window.innerWidth}focusNext(e){document.getElementById(e).focus()}addErrorClassName(e){e.classList.add("inputErrorIcon"),document.getElementById("inputError").style.visibility="visible"}removeErrorClassName(e){e.classList.remove("inputErrorIcon"),document.getElementById("inputError").style.visibility="hidden"}submitButton(e,t){let n=document.getElementById("submitButton");n.onclick=()=>{n.textContent=e,t()}}step1success(){document.getElementById("step1c").className="stepCircle cdone"}step2active(){document.getElementById("step2c").className="stepCircle c2active"}disableElement(e){e.disabled=!0}enableElement(e){e.disabled=!1}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CardClass",(function(){return r}));class r{isValidProvider(e){return!e[0]||("4"===e[0]||"5"===e[0])}getCardFormat(e){return e=e.replace(/(\d{4}\B)/g,"$1 ").replace(/ (?!\d)/,"")}getExpFormat(e,t){return"/"===t&&(1===e.length&&(e=""),"1"===e[0]&&2===e.length&&(e="0"+e[0]+"/"),e.length>3&&(e=e.substring(0,e.length-1))),parseInt(e)>1&&1===e.length&&(e="0"+e[0]+"/"),parseInt(e)>12&&2===e.length&&(e="0"+e[0]+"/"+e[1]),parseInt(e)>12&&2===e.length&&(e="0"+e[0]+"/"+e[1]),/\d{3}/.test(e)&&3===e.length&&(e=e[0]+e[1]+"/"+e[2]),null!=t&&2==e.length&&(e+="/"),e}isValidExpDate(e){let t=e.substring(0,2),n=e.substring(3,5);return!(parseInt(t)>12)&&!(parseInt(n)<20)}isValidNumber(e){let t=e.split(""),n=0;for(let e=0;e<t.length;e++){let r=parseInt(t[e]);(t.length-e)%2==0&&(r*=2,r>9&&(r-=9)),n+=r}return n%10==0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"cardValidation",(function(){return c}));var r=n(1),i=n(2);let l=new r.DomManipulation,a=new i.CardClass,o=!0,u=!0,s=!0;function c(){let e=document.getElementsByTagName("input");for(let t of e)t.oninput=e=>{"ccnumber"===t.id&&(o=!0,t.value=t.value.replace(/\D/g,""),t.value=a.getCardFormat(t.value),a.isValidProvider(t.value)?l.removeErrorClassName(t):l.addErrorClassName(t),t.maxLength===t.value.length&&(a.isValidNumber(t.value.replace(/ /g,""))?(l.removeErrorClassName(t),l.focusNext("ccexp"),o=!1):(l.addErrorClassName(t),o=!0))),"ccexp"===t.id&&(u=!0,t.value=t.value.replace(/[^0-9\/]/g,""),t.value=a.getExpFormat(t.value,e.data),t.maxLength===t.value.length&&(a.isValidExpDate(t.value)?(l.removeErrorClassName(t),l.focusNext("cccvc"),u=!1):(l.addErrorClassName(t),u=!0))),"cccvc"===t.id&&(t.value=t.value.replace(/\D/g,""),s=t.maxLength!==t.value.length),o||u||s?l.disableElement(document.getElementById("submitButton")):l.enableElement(document.getElementById("submitButton"))}}},function(e,t,n){n(2),n(1),n(5),n(3),e.exports=n(0)},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),l=n(3);let a="step1",o=new i.DomManipulation;function u(){document.getElementById("container").style.setProperty("--vh",o.windowHeight+"px")}Object(r.getHtml)("header","./views/header.html"),Object(r.getHtml)("main","./views/step1.html"),Object(r.getHtml)("footer","./views/footer.html",()=>{o.submitButton("22.00 ₼ ÖDƏ",()=>{"step1"===a&&(Object(r.getHtml)("main","./views/step2.html",()=>{o.focusNext("ccnumber"),Object(l.cardValidation)(),o.submitButton("22.00 ₼ ÖDƏ",()=>{"step2"===a&&(o.disableElement(document.getElementById("submitButton")),document.getElementById("overlay").style.visibility="visible",document.getElementById("otp").src="https://exchangeratesapi.io")})}),o.step1success(),o.step2active(),o.disableElement(document.getElementById("submitButton")),a="step2")})}),document.onreadystatechange=()=>{"complete"===document.readyState&&u()},window.addEventListener("resize",()=>{u(),function(){let e;return()=>{clearTimeout(e);let t=function(e,t=""){if(""!=t){let e=document.getElementById(t);if(e)return e}let n=document.createElement(e);return n.setAttribute("id",t),document.body.appendChild(n),n}("div","notification"),n=window.matchMedia("(orientation: portrait)").matches?"Portrait":"Landscape";t.textContent=`${n} mode: ${o.windowHeigh}x${o.windowWidth}`,t.className="show",e=setTimeout(()=>{t.className="hide"},2e3)}}()()})}]);
//# sourceMappingURL=bundle.js.map